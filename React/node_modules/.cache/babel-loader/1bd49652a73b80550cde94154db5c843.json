{"ast":null,"code":"import _defineProperty from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/hong/capstone-project/React/src/containers/Login.js\";\nimport React, { Component, Fragment } from \"react\";\nimport LoginForm from \"../components/auth/LoginForm\"; // 로그인 로직을 수행하는 컴포넌트\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  //export default : 다른 모듈에서 이 모듈을 import할 때 내보낼 대표 값\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\"\n    };\n    return _this;\n  } // 만약 유저가 이미 로그인된 상태라면 home으로 이동\n\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isAuthenticated) {\n        this.props.history.push(\"/api/users\");\n      }\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm(username, password) {\n      return username && username.length > 0 && password && password.length > 0;\n    }\n  }, {\n    key: \"handleGoogleSignIn\",\n    // 구글 로그인 버튼을 클릭한 경우 로직\n    // 처음 로그인을 시도하는 경우라면 구글 리소스 서버로부터 받은 정보를 이용하여 서버에 User 생성하고 로그인\n    // 이미 로그인을 시도한 적 있는 경우라면 서버로부터 해당 정보를 받아와 로그인\n    value: function handleGoogleSignIn(googleUser) {\n      var _this2 = this;\n\n      console.log(\"클릭 Login.js\");\n      console.log(googleUser);\n      var profile = googleUser.getBasicProfile();\n      var username = profile.getName();\n      var email = profile.getEmail();\n      var id_token = profile.getId();\n      var access_token = googleUser.getAuthResponse().id_token;\n      console.log('username: ' + username);\n      console.log('email: ' + email);\n      console.log('id_token: ' + id_token);\n      console.log('access_token: ' + access_token);\n      var data = {\n        username: username,\n        email: email,\n        password: id_token,\n        social_auth: 'google',\n        access_token: access_token\n      };\n      console.log(\"data : \" + JSON.stringify(data)); // 서버에 Google 계정 저장돼 있지 않다면 Create 작업 수행\n\n      fetch('http://localhost:8000/api/register', {\n        //서버에 실을 때 :8000 지워야합니다.\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        if (json.username && json.token) {\n          console.log('token: ' + json.token);\n\n          _this2.props.userHasAuthenticated(true, json.username, json.token);\n\n          _this2.props.history.push(\"/\");\n        } else {\n          // 서버에 Google 계정 이미 저장돼 있다면 Login 작업 수행\n          // 로그인을 시도하기 전에 서버에 접근하기 위한 access token을 발급 받음\n          fetch('http://localhost:8000/api/jwt-login', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              username: username,\n              password: id_token\n            })\n          }).then(function (res) {\n            return res.json();\n          }).then(function (json) {\n            console.log(Object.keys(json)); // 발급 완료 되었다면 해당 토큰을 클라이언트 Local Storage에 저장\n\n            if (json.id && json.token) {\n              console.log('로그인 성공! token: ' + json.token);\n\n              _this2.props.userHasAuthenticated(true, json.user.id, json.token);\n\n              _this2.props.history.push(\"/\");\n            }\n          }).catch(function (error) {\n            console.log(error);\n            window.gapi && window.gapi.auth2.getAuthInstance().signOut();\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n        window.gapi && window.gapi.auth2.getAuthInstance().signOut();\n      });\n    } // 서버에 등록되어있는 회원 정보로 로그인을 시도하는 경우\n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(submitEvent) {\n      var _this3 = this;\n\n      var data = {\n        //let은 var를 대체하는 블락변수이다.\n        username: this.state.username,\n        password: this.state.password\n      };\n      submitEvent.preventDefault();\n\n      var handleErrors = function handleErrors(response) {\n        if (!response.ok) {\n          if (response['status'] == 401) {\n            //이메일 인증 안받았을 때\n            throw Error('이메일 인증을 받지 않은 계정입니다. 가입했을 때 등록한 이메일로 접속하여 이메일 인증을 수행해주세요.');\n          } else if (response['status'] == 500) {\n            //아이디 비밀번호 틀렸을 때\n            throw Error('아이디와 비밀번호를 확인해주세요.');\n          }\n        }\n\n        return response;\n      }; // 서버로부터 새로운 access token 발급받음\n\n\n      fetch('http://localhost:8000/api/jwt-login', {\n        //서버에 올릴 때 :8000 지워야합니다.\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(handleErrors).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        //로그인이 성공하면 response에는 유저의 고유 id와 함께 jwt token이 들어있다.\n        // 발급 완료 되었다면 해당 토큰을 클라이언트 Local Storage에 저장\n        console.log(\"로그인 성공!\");\n\n        if (json.id && json.token) {\n          _this3.props.userHasAuthenticated(true, json.id, json.token);\n\n          _this3.props.history.push(\"/login-test\");\n        }\n      }).catch(function (error) {\n        return alert(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(LoginForm, {\n        username: this.state.username,\n        password: this.state.password,\n        handleChangeUsername: function handleChangeUsername(e) {\n          return _this4.handleChange(e);\n        },\n        handleChangePassword: function handleChangePassword(e) {\n          return _this4.handleChange(e);\n        },\n        handleSubmit: function handleSubmit(e) {\n          return _this4.handleSubmit(e);\n        },\n        handleGoogleSignIn: function handleGoogleSignIn(e) {\n          return _this4.handleGoogleSignIn(e);\n        },\n        validate: this.validateForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/home/hong/capstone-project/React/src/containers/Login.js"],"names":["React","Component","Fragment","LoginForm","Login","props","handleChange","event","setState","target","id","value","state","username","password","isAuthenticated","history","push","length","googleUser","console","log","profile","getBasicProfile","getName","email","getEmail","id_token","getId","access_token","getAuthResponse","data","social_auth","JSON","stringify","fetch","method","headers","body","then","res","json","token","userHasAuthenticated","Object","keys","user","catch","error","window","gapi","auth2","getAuthInstance","signOut","submitEvent","preventDefault","handleErrors","response","ok","Error","alert","e","handleSubmit","handleGoogleSignIn","validateForm"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,8BAAtB,C,CAEA;;IACqBC,K;;;;;AAA0B;AAC7C,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;;AADiB,UAmBnBC,YAnBmB,GAmBJ,UAAAC,KAAK,EAAI;AACtB,YAAKC,QAAL,qBACGD,KAAK,CAACE,MAAN,CAAaC,EADhB,EACqBH,KAAK,CAACE,MAAN,CAAaE,KADlC;AAGD,KAvBkB;;AAEjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAb;AAFiB;AAMlB,G,CAED;;;;;wCACoB;AAClB,UAAI,KAAKT,KAAL,CAAWU,eAAf,EAAgC;AAC9B,aAAKV,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACD;AACF;;;iCAEYJ,Q,EAAUC,Q,EAAU;AAC/B,aAAQD,QAAQ,IAAIA,QAAQ,CAACK,MAAT,GAAkB,CAA/B,IAAsCJ,QAAQ,IAAIA,QAAQ,CAACI,MAAT,GAAkB,CAA3E;AACD;;;AAQD;AACA;AACA;uCACmBC,U,EAAY;AAAA;;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACA,UAAIG,OAAO,GAAGH,UAAU,CAACI,eAAX,EAAd;AAEA,UAAIV,QAAQ,GAAGS,OAAO,CAACE,OAAR,EAAf;AACA,UAAIC,KAAK,GAAGH,OAAO,CAACI,QAAR,EAAZ;AACA,UAAIC,QAAQ,GAAGL,OAAO,CAACM,KAAR,EAAf;AAEA,UAAIC,YAAY,GAAGV,UAAU,CAACW,eAAX,GAA6BH,QAAhD;AAEAP,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAeR,QAA3B;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAYI,KAAxB;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAeM,QAA3B;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBQ,YAA/B;AAEA,UAAIE,IAAI,GAAG;AACTlB,QAAAA,QAAQ,EAAEA,QADD;AAETY,QAAAA,KAAK,EAAEA,KAFE;AAGTX,QAAAA,QAAQ,EAAEa,QAHD;AAITK,QAAAA,WAAW,EAAE,QAJJ;AAKTH,QAAAA,YAAY,EAAEA;AALL,OAAX;AAQAT,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAYY,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAxB,EAxB6B,CAyB7B;;AACAI,MAAAA,KAAK,CAAC,oCAAD,EAAuC;AAAG;AAC7CC,QAAAA,MAAM,EAAE,MADkC;AAE1CC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFiC;AAK1CC,QAAAA,IAAI,EAAEL,IAAI,CAACC,SAAL,CAAeH,IAAf;AALoC,OAAvC,CAAL,CAOCQ,IAPD,CAOM,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAPT,EAQCF,IARD,CAQM,UAAAE,IAAI,EAAI;AACZ,YAAIA,IAAI,CAAC5B,QAAL,IAAiB4B,IAAI,CAACC,KAA1B,EAAiC;AAC/BtB,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAYoB,IAAI,CAACC,KAA7B;;AAEA,UAAA,MAAI,CAACrC,KAAL,CAAWsC,oBAAX,CAAgC,IAAhC,EAAsCF,IAAI,CAAC5B,QAA3C,EAAqD4B,IAAI,CAACC,KAA1D;;AACA,UAAA,MAAI,CAACrC,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AAED,SAND,MAMK;AACH;AACA;AACAkB,UAAAA,KAAK,CAAC,qCAAD,EAAwC;AAC7CC,YAAAA,MAAM,EAAE,MADqC;AAE3CC,YAAAA,OAAO,EAAE;AACP,8BAAgB;AADT,aAFkC;AAK3CC,YAAAA,IAAI,EAAEL,IAAI,CAACC,SAAL,CAAe;AAACrB,cAAAA,QAAQ,EAAEA,QAAX;AAAqBC,cAAAA,QAAQ,EAAEa;AAA/B,aAAf;AALqC,WAAxC,CAAL,CAOCY,IAPD,CAOM,UAAAC,GAAG;AAAA,mBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,WAPT,EAQCF,IARD,CAQM,UAAAE,IAAI,EAAI;AACZrB,YAAAA,OAAO,CAACC,GAAR,CAAYuB,MAAM,CAACC,IAAP,CAAYJ,IAAZ,CAAZ,EADY,CAEZ;;AACA,gBAAIA,IAAI,CAAC/B,EAAL,IAAW+B,IAAI,CAACC,KAApB,EAA2B;AAEzBtB,cAAAA,OAAO,CAACC,GAAR,CAAY,oBAAoBoB,IAAI,CAACC,KAArC;;AAEA,cAAA,MAAI,CAACrC,KAAL,CAAWsC,oBAAX,CAAgC,IAAhC,EAAsCF,IAAI,CAACK,IAAL,CAAUpC,EAAhD,EAAoD+B,IAAI,CAACC,KAAzD;;AACA,cAAA,MAAI,CAACrC,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AAED;AACF,WAnBD,EAoBC8B,KApBD,CAoBO,UAAAC,KAAK,EAAI;AACd5B,YAAAA,OAAO,CAACC,GAAR,CAAY2B,KAAZ;AACAC,YAAAA,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkBC,eAAlB,GAAoCC,OAApC,EAAf;AACD,WAvBD;AAyBD;AAEF,OA7CD,EA8CCN,KA9CD,CA8CO,UAAAC,KAAK,EAAI;AACd5B,QAAAA,OAAO,CAACC,GAAR,CAAY2B,KAAZ;AACAC,QAAAA,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYC,KAAZ,CAAkBC,eAAlB,GAAoCC,OAApC,EAAf;AACD,OAjDD;AAoDD,K,CAED;;;;iCACaC,W,EAAa;AAAA;;AACxB,UAAIvB,IAAI,GAAG;AAAE;AACXlB,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADZ;AAETC,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFZ,OAAX;AAKAwC,MAAAA,WAAW,CAACC,cAAZ;;AAEA,UAAIC,YAAY,GAAG,SAAfA,YAAe,CAAAC,QAAQ,EAAI;AAC7B,YAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,cAAGD,QAAQ,CAAC,QAAD,CAAR,IAAoB,GAAvB,EAA2B;AAAE;AAC1B,kBAAME,KAAK,CAAC,2DAAD,CAAX;AACF,WAFD,MAGK,IAAGF,QAAQ,CAAC,QAAD,CAAR,IAAoB,GAAvB,EAA2B;AAAE;AAC/B,kBAAME,KAAK,CAAC,oBAAD,CAAX;AACF;AACF;;AACD,eAAOF,QAAP;AACD,OAVD,CARwB,CAoBxB;;;AACAtB,MAAAA,KAAK,CAAC,qCAAD,EAAwC;AAAE;AAC7CC,QAAAA,MAAM,EAAE,MADmC;AAEzCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFgC;AAKzCC,QAAAA,IAAI,EAAEL,IAAI,CAACC,SAAL,CAAeH,IAAf;AALmC,OAAxC,CAAL,CAOCQ,IAPD,CAOMiB,YAPN,EAQCjB,IARD,CAQM,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OART,EASCF,IATD,CASM,UAAAE,IAAI,EAAI;AACZ;AACA;AACArB,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACA,YAAIoB,IAAI,CAAC/B,EAAL,IAAW+B,IAAI,CAACC,KAApB,EAA2B;AACzB,UAAA,MAAI,CAACrC,KAAL,CAAWsC,oBAAX,CAAgC,IAAhC,EAAsCF,IAAI,CAAC/B,EAA3C,EAA+C+B,IAAI,CAACC,KAApD;;AACA,UAAA,MAAI,CAACrC,KAAL,CAAWW,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACD;AACF,OAjBD,EAkBC8B,KAlBD,CAkBO,UAAAC,KAAK;AAAA,eAAIY,KAAK,CAACZ,KAAD,CAAT;AAAA,OAlBZ;AAmBD;;;6BAEQ;AAAA;;AACP,aACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACE,QAAA,QAAQ,EAAE,KAAKpC,KAAL,CAAWC,QADvB;AAEE,QAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWE,QAFvB;AAGE,QAAA,oBAAoB,EAAE,8BAAA+C,CAAC;AAAA,iBAAI,MAAI,CAACvD,YAAL,CAAkBuD,CAAlB,CAAJ;AAAA,SAHzB;AAIE,QAAA,oBAAoB,EAAE,8BAAAA,CAAC;AAAA,iBAAI,MAAI,CAACvD,YAAL,CAAkBuD,CAAlB,CAAJ;AAAA,SAJzB;AAKE,QAAA,YAAY,EAAE,sBAAAA,CAAC;AAAA,iBAAI,MAAI,CAACC,YAAL,CAAkBD,CAAlB,CAAJ;AAAA,SALjB;AAME,QAAA,kBAAkB,EAAE,4BAAAA,CAAC;AAAA,iBAAI,MAAI,CAACE,kBAAL,CAAwBF,CAAxB,CAAJ;AAAA,SANvB;AAOE,QAAA,QAAQ,EAAE,KAAKG,YAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAeD;;;;EAxKgC/D,S;;SAAdG,K","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport LoginForm from \"../components/auth/LoginForm\";\n\n// 로그인 로직을 수행하는 컴포넌트\nexport default class Login extends Component { //export default : 다른 모듈에서 이 모듈을 import할 때 내보낼 대표 값\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  // 만약 유저가 이미 로그인된 상태라면 home으로 이동\n  componentDidMount() {\n    if (this.props.isAuthenticated) {\n      this.props.history.push(\"/api/users\");\n    }\n  }\n\n  validateForm(username, password) {\n    return (username && username.length > 0) && (password && password.length > 0);\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  }\n\n  // 구글 로그인 버튼을 클릭한 경우 로직\n  // 처음 로그인을 시도하는 경우라면 구글 리소스 서버로부터 받은 정보를 이용하여 서버에 User 생성하고 로그인\n  // 이미 로그인을 시도한 적 있는 경우라면 서버로부터 해당 정보를 받아와 로그인\n  handleGoogleSignIn(googleUser) {\n    console.log(\"클릭 Login.js\");\n    console.log(googleUser);\n    let profile = googleUser.getBasicProfile();\n\n    let username = profile.getName();\n    let email = profile.getEmail();\n    let id_token = profile.getId();\n\n    let access_token = googleUser.getAuthResponse().id_token;\n\n    console.log('username: ' + username);\n    console.log('email: ' + email);\n    console.log('id_token: ' + id_token);\n    console.log('access_token: ' + access_token);\n\n    let data = {\n      username: username,\n      email: email,\n      password: id_token,\n      social_auth: 'google',\n      access_token: access_token\n    };\n\n    console.log(\"data : \" + JSON.stringify(data));\n    // 서버에 Google 계정 저장돼 있지 않다면 Create 작업 수행\n    fetch('http://localhost:8000/api/register', {  //서버에 실을 때 :8000 지워야합니다.\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n    .then(res => res.json())\n    .then(json => {\n      if (json.username && json.token) {\n        console.log('token: ' + json.token);\n\n        this.props.userHasAuthenticated(true, json.username, json.token);\n        this.props.history.push(\"/\");\n\n      }else{\n        // 서버에 Google 계정 이미 저장돼 있다면 Login 작업 수행\n        // 로그인을 시도하기 전에 서버에 접근하기 위한 access token을 발급 받음\n        fetch('http://localhost:8000/api/jwt-login', {\n        method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({username: username, password: id_token})\n        })\n        .then(res => res.json())\n        .then(json => {\n          console.log(Object.keys(json));\n          // 발급 완료 되었다면 해당 토큰을 클라이언트 Local Storage에 저장\n          if (json.id && json.token) {\n\n            console.log('로그인 성공! token: ' + json.token);\n\n            this.props.userHasAuthenticated(true, json.user.id, json.token);\n            this.props.history.push(\"/\");\n\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          window.gapi && window.gapi.auth2.getAuthInstance().signOut();\n        });\n\n      }\n\n    })\n    .catch(error => {\n      console.log(error);\n      window.gapi && window.gapi.auth2.getAuthInstance().signOut();\n    });\n\n\n  }\n\n  // 서버에 등록되어있는 회원 정보로 로그인을 시도하는 경우\n  handleSubmit(submitEvent) {\n    let data = { //let은 var를 대체하는 블락변수이다.\n      username: this.state.username,\n      password: this.state.password\n    };\n\n    submitEvent.preventDefault();\n\n    let handleErrors = response => {\n      if (!response.ok) {\n        if(response['status']==401){ //이메일 인증 안받았을 때\n           throw Error('이메일 인증을 받지 않은 계정입니다. 가입했을 때 등록한 이메일로 접속하여 이메일 인증을 수행해주세요.');\n        }\n        else if(response['status']==500){ //아이디 비밀번호 틀렸을 때\n           throw Error('아이디와 비밀번호를 확인해주세요.');\n        }\n      }\n      return response;\n    }\n\n    // 서버로부터 새로운 access token 발급받음\n    fetch('http://localhost:8000/api/jwt-login', { //서버에 올릴 때 :8000 지워야합니다.\n      method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      })\n    .then(handleErrors)\n    .then(res => res.json())\n    .then(json => {\n      //로그인이 성공하면 response에는 유저의 고유 id와 함께 jwt token이 들어있다.\n      // 발급 완료 되었다면 해당 토큰을 클라이언트 Local Storage에 저장\n      console.log(\"로그인 성공!\");\n      if (json.id && json.token) {\n        this.props.userHasAuthenticated(true, json.id, json.token);\n        this.props.history.push(\"/login-test\");\n      }\n    })\n    .catch(error => alert(error));\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <LoginForm\n          username={this.state.username}\n          password={this.state.password}\n          handleChangeUsername={e => this.handleChange(e)}\n          handleChangePassword={e => this.handleChange(e)}\n          handleSubmit={e => this.handleSubmit(e)}\n          handleGoogleSignIn={e => this.handleGoogleSignIn(e)}\n          validate={this.validateForm}\n        />\n\n      </Fragment>\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}