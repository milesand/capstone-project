{"ast":null,"code":"import _regeneratorRuntime from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hong/PRTest/capstone-project/React/src/containers/MailResend.js\";\nimport React, { Component } from 'react';\nimport MailResendForm from \"../components/LoginComponents/MailResendForm\";\nimport { withRouter } from 'react-router-dom';\n\nvar MailResend =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailResend, _Component);\n\n  function MailResend(props) {\n    var _this;\n\n    _classCallCheck(this, MailResend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MailResend).call(this, props));\n    console.log('this test.');\n    console.log(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      username: _this.props.username,\n      email: _this.props.useremail,\n      isLoading: false\n    };\n    _this.resendAuthEmail = _this.resendAuthEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MailResend, [{\n    key: \"resendAuthEmail\",\n    value: function () {\n      var _resendAuthEmail = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var _this2 = this;\n\n        var errorCheck;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log('클릭!');\n                console.log(this.state);\n                this.props.toggleLoadingState();\n\n                errorCheck = function errorCheck(response) {\n                  if (response.message) {\n                    throw Error(response.message);\n                  }\n\n                  return response;\n                };\n\n                this.setState(function (prevState) {\n                  return {\n                    isLoading: true\n                  };\n                });\n                fetch(\"http://localhost/api/send-auth-email\", {\n                  //HTTP GET으로 요청을 보내고, URL뒤에 사용자 식별 ID를 추가하자.\n                  method: \"GET\",\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  credentials: 'include'\n                }).then(errorCheck).then(function (res) {\n                  return res.json();\n                }).then(function (content) {\n                  console.log(content);\n                  console.log(\"메일 재발송 완료.\");\n\n                  _this2.props.toggleLoadingState();\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function resendAuthEmail(_x) {\n        return _resendAuthEmail.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"mail auth render test.\", this.props.isLoading);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.state && this.state.username != \"\" && this.state.email != \"\" && React.createElement(MailResendForm, {\n        username: this.state.username,\n        nickname: this.props.nickname,\n        email: this.state.email,\n        resendAuthEmail: this.resendAuthEmail,\n        isLoading: this.props.isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MailResend;\n}(Component);\n\nexport default withRouter(MailResend);","map":{"version":3,"sources":["/home/hong/PRTest/capstone-project/React/src/containers/MailResend.js"],"names":["React","Component","MailResendForm","withRouter","MailResend","props","console","log","state","username","email","useremail","isLoading","resendAuthEmail","bind","e","preventDefault","toggleLoadingState","errorCheck","response","message","Error","setState","prevState","fetch","method","headers","credentials","then","res","json","content","nickname"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;IAEMC,U;;;;;AACF,sBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,oFAAMA,KAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,MAAKJ,KAAL,CAAWI,QADZ;AAETC,MAAAA,KAAK,EAAG,MAAKL,KAAL,CAAWM,SAFV;AAGTC,MAAAA,SAAS,EAAG;AAHH,KAAb;AAKA,UAAKC,eAAL,GAAqB,MAAKA,eAAL,CAAqBC,IAArB,uDAArB;AATc;AAUjB;;;;;;;gDAEqBC,C;;;;;;;;AAClBA,gBAAAA,CAAC,CAACC,cAAF;AACAV,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;AACA,qBAAKH,KAAL,CAAWY,kBAAX;;AACIC,gBAAAA,U,GAAa,SAAbA,UAAa,CAAAC,QAAQ,EAAG;AACxB,sBAAGA,QAAQ,CAACC,OAAZ,EAAoB;AAChB,0BAAMC,KAAK,CAACF,QAAQ,CAACC,OAAV,CAAX;AACH;;AACD,yBAAOD,QAAP;AACH,iB;;AAED,qBAAKG,QAAL,CAAc,UAACC,SAAD;AAAA,yBAAc;AACxBX,oBAAAA,SAAS,EAAE;AADa,mBAAd;AAAA,iBAAd;AAIAY,gBAAAA,KAAK,CAAC,sCAAD,EAAyC;AAAE;AAC5CC,kBAAAA,MAAM,EAAE,KADkC;AAE1CC,kBAAAA,OAAO,EAAE;AACL,oCAAgB;AADX,mBAFiC;AAK1CC,kBAAAA,WAAW,EAAE;AAL6B,iBAAzC,CAAL,CAOCC,IAPD,CAOMV,UAPN,EAQCU,IARD,CAQM,UAAAC,GAAG;AAAA,yBAAEA,GAAG,CAACC,IAAJ,EAAF;AAAA,iBART,EASCF,IATD,CASM,UAAAG,OAAO,EAAE;AACXzB,kBAAAA,OAAO,CAACC,GAAR,CAAYwB,OAAZ;AACAzB,kBAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AACA,kBAAA,MAAI,CAACF,KAAL,CAAWY,kBAAX;AACH,iBAbD;;;;;;;;;;;;;;;;6BAgBI;AACJX,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsC,KAAKF,KAAL,CAAWO,SAAjD;AAEA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKJ,KAAL,IAAc,KAAKA,KAAL,CAAWC,QAAX,IAAqB,EAAnC,IAAyC,KAAKD,KAAL,CAAWE,KAAX,IAAkB,EAA3D,IACE,oBAAC,cAAD;AACA,QAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWC,QADrB;AAEA,QAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAW2B,QAFrB;AAGA,QAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWE,KAHlB;AAIA,QAAA,eAAe,EAAE,KAAKG,eAJtB;AAKA,QAAA,SAAS,EAAE,KAAKR,KAAL,CAAWO,SALtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAaH;;;;EA7DoBX,S;;AAgEzB,eAAeE,UAAU,CAACC,UAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport MailResendForm from \"../components/LoginComponents/MailResendForm\"\nimport { withRouter } from 'react-router-dom';\n\nclass MailResend extends Component{\n    constructor(props){\n        super(props);\n        console.log('this test.');\n        console.log(this);\n        this.state = {\n            username: this.props.username,\n            email : this.props.useremail,\n            isLoading : false\n        };\n        this.resendAuthEmail=this.resendAuthEmail.bind(this);\n    }\n    \n    async resendAuthEmail(e){\n        e.preventDefault();\n        console.log('클릭!');\n        console.log(this.state);\n        this.props.toggleLoadingState();\n        let errorCheck = response =>{\n            if(response.message){\n                throw Error(response.message);\n            }\n            return response;\n        }\n\n        this.setState((prevState)=>({\n            isLoading: true\n        }));\n        \n        fetch(\"http://localhost/api/send-auth-email\", { //HTTP GET으로 요청을 보내고, URL뒤에 사용자 식별 ID를 추가하자.\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json'\n              },\n            credentials: 'include',\n        })\n        .then(errorCheck)\n        .then(res=>res.json())\n        .then(content=>{\n            console.log(content);\n            console.log(\"메일 재발송 완료.\");\n            this.props.toggleLoadingState();\n        });\n    }\n\n    render(){\n        console.log(\"mail auth render test.\", this.props.isLoading);\n        \n        return(\n            <div>\n            { this.state && this.state.username!=\"\" && this.state.email!=\"\"&&\n                <MailResendForm\n                username={this.state.username}\n                nickname={this.props.nickname}\n                email={this.state.email}\n                resendAuthEmail={this.resendAuthEmail}\n                isLoading={this.props.isLoading}\n            />\n            }\n            </div>\n        );\n    }\n}\n\nexport default withRouter(MailResend);\n"]},"metadata":{},"sourceType":"module"}