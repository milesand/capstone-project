{"ast":null,"code":"import _regeneratorRuntime from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hong/PRTest/capstone-project/React/src/containers/MailResend.js\";\nimport React, { Component } from 'react';\nimport MailResendForm from \"../components/auth/MailResendForm\";\nimport { withRouter } from 'react-router-dom';\n\nvar MailResend =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailResend, _Component);\n\n  function MailResend(props) {\n    var _this;\n\n    _classCallCheck(this, MailResend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MailResend).call(this, props));\n    console.log('this test.');\n    console.log(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      username: _this.props.username,\n      email: _this.props.useremail\n    };\n    _this.resendAuthEmail = _this.resendAuthEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MailResend, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var usernameCheck = nextState.username !== \"\";\n      var emailCheck = nextState.email !== \"\";\n      console.log(\"not render test.\");\n      console.log(nextProps);\n      console.log(nextState);\n      console.log(this.state.username);\n      console.log(this.state.email);\n      console.log(usernameCheck);\n      console.log(emailCheck);\n      return usernameCheck && emailCheck;\n    }\n  }, {\n    key: \"resendAuthEmail\",\n    value: function () {\n      var _resendAuthEmail = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var handleErrors;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log(this.state);\n\n                handleErrors = function handleErrors(response) {\n                  if (response.message) {\n                    throw Error(response.message);\n                  }\n\n                  return response;\n                };\n\n                fetch(\"http://localhost/api/send-auth-email\", {\n                  //HTTP GET으로 요청을 보내고, URL뒤에 사용자 식별 ID를 추가하자.\n                  method: \"GET\",\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  credentials: 'include'\n                }).then(handleErrors).then(function (res) {\n                  return res.json();\n                }).then(function (json) {\n                  console.log(json);\n                  console.log(\"메일 재발송 완료.\");\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function resendAuthEmail(_x) {\n        return _resendAuthEmail.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"mail auth test.\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, this.state && this.state.username != \"\" && this.state.email != \"\" && React.createElement(MailResendForm, {\n        username: this.state.username,\n        email: this.state.email,\n        resendAuthEmail: this.resendAuthEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MailResend;\n}(Component);\n\nexport default withRouter(MailResend);","map":{"version":3,"sources":["/home/hong/PRTest/capstone-project/React/src/containers/MailResend.js"],"names":["React","Component","MailResendForm","withRouter","MailResend","props","console","log","state","username","email","useremail","resendAuthEmail","bind","nextProps","nextState","usernameCheck","emailCheck","e","preventDefault","handleErrors","response","message","Error","fetch","method","headers","credentials","then","res","json"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;IAEMC,U;;;;;AACF,sBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,oFAAMA,KAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,MAAKJ,KAAL,CAAWI,QADZ;AAETC,MAAAA,KAAK,EAAG,MAAKL,KAAL,CAAWM;AAFV,KAAb;AAIA,UAAKC,eAAL,GAAqB,MAAKA,eAAL,CAAqBC,IAArB,uDAArB;AARc;AASjB;;;;0CAEqBC,S,EAAWC,S,EAAW;AACxC,UAAMC,aAAa,GAAGD,SAAS,CAACN,QAAV,KAAuB,EAA7C;AACA,UAAMQ,UAAU,GAAGF,SAAS,CAACL,KAAV,KAAoB,EAAvC;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYO,SAAZ;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYQ,SAAZ;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,QAAvB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWE,KAAvB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYS,aAAZ;AACAV,MAAAA,OAAO,CAACC,GAAR,CAAYU,UAAZ;AACA,aAAOD,aAAa,IAAIC,UAAxB;AACH;;;;;;gDAEqBC,C;;;;;;AAClBA,gBAAAA,CAAC,CAACC,cAAF;AACAb,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAjB;;AACIY,gBAAAA,Y,GAAe,SAAfA,YAAe,CAAAC,QAAQ,EAAG;AAC1B,sBAAGA,QAAQ,CAACC,OAAZ,EAAoB;AAChB,0BAAMC,KAAK,CAACF,QAAQ,CAACC,OAAV,CAAX;AACH;;AACD,yBAAOD,QAAP;AACH,iB;;AAEDG,gBAAAA,KAAK,CAAC,sCAAD,EAAyC;AAAE;AAC5CC,kBAAAA,MAAM,EAAE,KADkC;AAE1CC,kBAAAA,OAAO,EAAE;AACL,oCAAgB;AADX,mBAFiC;AAK1CC,kBAAAA,WAAW,EAAE;AAL6B,iBAAzC,CAAL,CAOCC,IAPD,CAOMR,YAPN,EAQCQ,IARD,CAQM,UAAAC,GAAG;AAAA,yBAAEA,GAAG,CAACC,IAAJ,EAAF;AAAA,iBART,EASCF,IATD,CASM,UAAAE,IAAI,EAAE;AACRxB,kBAAAA,OAAO,CAACC,GAAR,CAAYuB,IAAZ;AACAxB,kBAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACH,iBAZD;;;;;;;;;;;;;;;;6BAeI;AACJD,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAEA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,KAAKC,KAAL,IAAc,KAAKA,KAAL,CAAWC,QAAX,IAAqB,EAAnC,IAAyC,KAAKD,KAAL,CAAWE,KAAX,IAAkB,EAA3D,IACE,oBAAC,cAAD;AACA,QAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWC,QADrB;AAEA,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAFlB;AAGA,QAAA,eAAe,EAAE,KAAKE,eAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAWH;;;;EAhEoBX,S;;AAmEzB,eAAeE,UAAU,CAACC,UAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport MailResendForm from \"../components/auth/MailResendForm\"\nimport { withRouter } from 'react-router-dom';\n\nclass MailResend extends Component{\n    constructor(props){\n        super(props);\n        console.log('this test.');\n        console.log(this);\n        this.state = {\n            username: this.props.username,\n            email : this.props.useremail\n        };\n        this.resendAuthEmail=this.resendAuthEmail.bind(this);\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        const usernameCheck = nextState.username !== \"\";\n        const emailCheck = nextState.email !== \"\";\n        console.log(\"not render test.\");\n        console.log(nextProps);\n        console.log(nextState)\n        console.log(this.state.username);\n        console.log(this.state.email);\n        console.log(usernameCheck);\n        console.log(emailCheck);    \n        return usernameCheck && emailCheck;\n    }\n    \n    async resendAuthEmail(e){\n        e.preventDefault();\n        console.log(this.state);\n        let handleErrors = response =>{\n            if(response.message){\n                throw Error(response.message);\n            }\n            return response;\n        }\n\n        fetch(\"http://localhost/api/send-auth-email\", { //HTTP GET으로 요청을 보내고, URL뒤에 사용자 식별 ID를 추가하자.\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json'\n              },\n            credentials: 'include',\n        })\n        .then(handleErrors)\n        .then(res=>res.json())\n        .then(json=>{\n            console.log(json);\n            console.log(\"메일 재발송 완료.\");\n        });\n    }\n\n    render(){\n        console.log(\"mail auth test.\");\n\n        return(\n            <div>\n            { this.state && this.state.username!=\"\" && this.state.email!=\"\"&&\n                <MailResendForm\n                username={this.state.username}\n                email={this.state.email}\n                resendAuthEmail={this.resendAuthEmail}\n            />\n            }\n            </div>\n        );\n    }\n}\n\nexport default withRouter(MailResend);\n"]},"metadata":{},"sourceType":"module"}