{"ast":null,"code":"import _regeneratorRuntime from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hong/PRTest/capstone-project/React/src/containers/MailResend.js\";\nimport React, { Component } from 'react';\nimport MailResendForm from \"../components/LoginComponents/MailResendForm\";\nimport { withRouter } from 'react-router-dom';\n\nvar MailResend =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MailResend, _Component);\n\n  function MailResend(props) {\n    var _this;\n\n    _classCallCheck(this, MailResend);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MailResend).call(this, props));\n\n    _this.toggleLoading = function () {\n      _this.setState = {\n        isLoading: !_this.state.isLoading\n      };\n    };\n\n    console.log('this test.');\n    console.log(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      username: _this.props.username,\n      email: _this.props.useremail,\n      isLoading: false\n    };\n    _this.resendAuthEmail = _this.resendAuthEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MailResend, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var usernameCheck = nextState.username !== \"\";\n      var emailCheck = nextState.email !== \"\";\n      console.log(\"not render test.\");\n      console.log(nextProps);\n      console.log(nextState);\n      console.log(this.state.username);\n      console.log(this.state.email);\n      console.log(usernameCheck);\n      console.log(emailCheck);\n      return usernameCheck && emailCheck;\n    }\n  }, {\n    key: \"resendAuthEmail\",\n    value: function () {\n      var _resendAuthEmail = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var errorCheck;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log('클릭!');\n                console.log(this.state);\n\n                errorCheck = function errorCheck(response) {\n                  if (response.message) {\n                    throw Error(response.message);\n                  }\n\n                  return response;\n                };\n\n                this.setState({\n                  isLoading: true\n                }, function () {\n                  fetch(\"http://localhost/api/send-auth-email\", {\n                    //HTTP GET으로 요청을 보내고, URL뒤에 사용자 식별 ID를 추가하자.\n                    method: \"GET\",\n                    headers: {\n                      'Content-Type': 'application/json'\n                    },\n                    credentials: 'include'\n                  }).then(errorCheck).then(function (res) {\n                    return res.json();\n                  }).then(function (content) {\n                    console.log(content);\n                    console.log(\"메일 재발송 완료.\");\n                  });\n                });\n                this.setState({\n                  isLoading: false\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function resendAuthEmail(_x) {\n        return _resendAuthEmail.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"mail auth test.\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state && this.state.username != \"\" && this.state.email != \"\" && React.createElement(MailResendForm, {\n        username: this.state.username,\n        email: this.state.email,\n        resendAuthEmail: this.resendAuthEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MailResend;\n}(Component);\n\nexport default withRouter(MailResend);","map":{"version":3,"sources":["/home/hong/PRTest/capstone-project/React/src/containers/MailResend.js"],"names":["React","Component","MailResendForm","withRouter","MailResend","props","toggleLoading","setState","isLoading","state","console","log","username","email","useremail","resendAuthEmail","bind","nextProps","nextState","usernameCheck","emailCheck","e","preventDefault","errorCheck","response","message","Error","fetch","method","headers","credentials","then","res","json","content"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport MailResendForm from \"../components/LoginComponents/MailResendForm\"\nimport { withRouter } from 'react-router-dom';\n\nclass MailResend extends Component{\n    constructor(props){\n        super(props);\n        console.log('this test.');\n        console.log(this);\n        this.state = {\n            username: this.props.username,\n            email : this.props.useremail,\n            isLoading : false\n        };\n        this.resendAuthEmail=this.resendAuthEmail.bind(this);\n    }\n\n    toggleLoading=()=>{\n        this.setState=({\n            isLoading: !this.state.isLoading\n        });\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        const usernameCheck = nextState.username !== \"\";\n        const emailCheck = nextState.email !== \"\";\n        console.log(\"not render test.\");\n        console.log(nextProps);\n        console.log(nextState)\n        console.log(this.state.username);\n        console.log(this.state.email);\n        console.log(usernameCheck);\n        console.log(emailCheck);    \n        return usernameCheck && emailCheck;\n    }\n    \n    async resendAuthEmail(e){\n        e.preventDefault();\n        console.log('클릭!');\n        console.log(this.state);\n        let errorCheck = response =>{\n            if(response.message){\n                throw Error(response.message);\n            }\n            return response;\n        }\n        this.setState({\n            isLoading: true\n        }, () => {\n            fetch(\"http://localhost/api/send-auth-email\", { //HTTP GET으로 요청을 보내고, URL뒤에 사용자 식별 ID를 추가하자.\n            method: \"GET\",\n            headers: {\n                'Content-Type': 'application/json'\n              },\n            credentials: 'include',\n            })\n            .then(errorCheck)\n            .then(res=>res.json())\n            .then(content=>{\n                console.log(content);\n                console.log(\"메일 재발송 완료.\");\n            });\n        })\n        this.setState({\n            isLoading: false\n        })\n    }\n\n    render(){\n        console.log(\"mail auth test.\");\n\n        return(\n            <div>\n            { this.state && this.state.username!=\"\" && this.state.email!=\"\"&&\n                <MailResendForm\n                username={this.state.username}\n                email={this.state.email}\n                resendAuthEmail={this.resendAuthEmail}\n            />\n            }\n            </div>\n        );\n    }\n}\n\nexport default withRouter(MailResend);\n"]},"metadata":{},"sourceType":"module"}