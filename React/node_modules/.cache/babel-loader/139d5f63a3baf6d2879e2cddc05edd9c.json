{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sungs\\\\Deact\\\\frontend\\\\frontend\\\\src\\\\components\\\\auth\\\\GoogleLoginButton.js\";\nimport React from 'react';\n\nclass GoogleLoginButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleLoggedIn = () => this.setState(state => {\n      return {\n        isLoggedIn: !state.isLoggedIn\n      };\n    });\n\n    this.onSignIn = googleUser => {\n      this.props.onSignIn(googleUser);\n    };\n\n    this.renderGoogleLoginButton = () => {\n      // console.log('rendering google signin button');\n      window.gapi.signin2.render('my-signin2', {\n        scope: 'profile email',\n        width: 250,\n        height: 40,\n        longtitle: true,\n        theme: 'light',\n        onsuccess: this.onSignIn // onsuccess: this.props.onSignIn,\n\n      });\n    };\n\n    this.logout = () => {\n      console.log('logout');\n      let auth2 = window.gapi && window.gapi.auth2.getAuthInstance();\n\n      if (auth2) {\n        auth2.signOut().then(() => {\n          this.toggleLoggedIn();\n          console.log('Logged out successfully');\n        }).catch(err => {\n          console.log('Error while logging out', err);\n        });\n      } else {\n        console.log('error while logging out');\n      }\n    };\n\n    this.state = {\n      isLoggedIn: false\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener('google-loaded', this.renderGoogleLoginButton);\n    window.gapi && this.renderGoogleLoginButton();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"my-signin2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), this.state.isLoggedIn && /*#__PURE__*/React.createElement(\"button\", {\n      style: {\n        width: 200,\n        height: 40,\n        textAlign: 'center'\n      },\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }, \"Logout\"));\n  }\n\n}\n\nexport default GoogleLoginButton;","map":{"version":3,"sources":["C:/Users/sungs/Deact/frontend/frontend/src/components/auth/GoogleLoginButton.js"],"names":["React","GoogleLoginButton","Component","constructor","props","toggleLoggedIn","setState","state","isLoggedIn","onSignIn","googleUser","renderGoogleLoginButton","window","gapi","signin2","render","scope","width","height","longtitle","theme","onsuccess","logout","console","log","auth2","getAuthInstance","signOut","then","catch","err","componentDidMount","addEventListener","textAlign"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,iBAAN,SAAgCD,KAAK,CAACE,SAAtC,CAAgD;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAOnBC,cAPmB,GAOF,MAAM,KAAKC,QAAL,CAAcC,KAAK,IAAI;AAC5C,aAAO;AAAEC,QAAAA,UAAU,EAAE,CAACD,KAAK,CAACC;AAArB,OAAP;AACD,KAFsB,CAPJ;;AAAA,SAWnBC,QAXmB,GAWRC,UAAU,IAAI;AAEvB,WAAKN,KAAL,CAAWK,QAAX,CAAoBC,UAApB;AAED,KAfkB;;AAAA,SAiBnBC,uBAjBmB,GAiBO,MAAM;AAC9B;AAEAC,MAAAA,MAAM,CAACC,IAAP,CAAYC,OAAZ,CAAoBC,MAApB,CAA2B,YAA3B,EAAyC;AACvCC,QAAAA,KAAK,EAAE,eADgC;AAEvCC,QAAAA,KAAK,EAAE,GAFgC;AAGvCC,QAAAA,MAAM,EAAE,EAH+B;AAIvCC,QAAAA,SAAS,EAAE,IAJ4B;AAKvCC,QAAAA,KAAK,EAAE,OALgC;AAMvCC,QAAAA,SAAS,EAAE,KAAKZ,QANuB,CAOvC;;AAPuC,OAAzC;AASD,KA7BkB;;AAAA,SA+BnBa,MA/BmB,GA+BV,MAAM;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAEA,UAAIC,KAAK,GAAGb,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYY,KAAZ,CAAkBC,eAAlB,EAA3B;;AACA,UAAID,KAAJ,EAAW;AACTA,QAAAA,KAAK,CACFE,OADH,GAEGC,IAFH,CAEQ,MAAM;AACV,eAAKvB,cAAL;AACAkB,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD,SALH,EAMGK,KANH,CAMSC,GAAG,IAAI;AACZP,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCM,GAAvC;AACD,SARH;AASD,OAVD,MAUO;AACLP,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD;AACF,KAhDkB;;AAEjB,SAAKjB,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAGD;;AA6CDuB,EAAAA,iBAAiB,GAAG;AAClBnB,IAAAA,MAAM,CAACoB,gBAAP,CAAwB,eAAxB,EAAyC,KAAKrB,uBAA9C;AACAC,IAAAA,MAAM,CAACC,IAAP,IAAe,KAAKF,uBAAL,EAAf;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEG,KAAKR,KAAL,CAAWC,UAAX,iBACC;AAAQ,MAAA,KAAK,EAAE;AAAES,QAAAA,KAAK,EAAE,GAAT;AAAcC,QAAAA,MAAM,EAAE,EAAtB;AAA0Be,QAAAA,SAAS,EAAE;AAArC,OAAf;AAA+D,MAAA,OAAO,EAAE,KAAKX,MAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,CADF;AAUD;;AAnE6C;;AAsEhD,eAAerB,iBAAf","sourcesContent":["import React from 'react';\n\nclass GoogleLoginButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false\n    };\n  }\n\n  toggleLoggedIn = () => this.setState(state => {\n    return { isLoggedIn: !state.isLoggedIn };\n  });\n\n  onSignIn = googleUser => {\n   \n    this.props.onSignIn(googleUser);\n\n  };\n\n  renderGoogleLoginButton = () => {   \n    // console.log('rendering google signin button');\n    \n    window.gapi.signin2.render('my-signin2', {\n      scope: 'profile email',\n      width: 250,\n      height: 40,\n      longtitle: true,\n      theme: 'light',\n      onsuccess: this.onSignIn,\n      // onsuccess: this.props.onSignIn,\n    });\n  };\n\n  logout = () => {\n    console.log('logout');\n\n    let auth2 = window.gapi && window.gapi.auth2.getAuthInstance();\n    if (auth2) {\n      auth2\n        .signOut()\n        .then(() => {\n          this.toggleLoggedIn();\n          console.log('Logged out successfully');\n        })\n        .catch(err => {\n          console.log('Error while logging out', err);\n        });\n    } else {\n      console.log('error while logging out');\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('google-loaded', this.renderGoogleLoginButton);\n    window.gapi && this.renderGoogleLoginButton();\n  }\n\n  render() {\n    return (\n      <div>\n        <div id=\"my-signin2\"></div>\n        {this.state.isLoggedIn && (\n          <button style={{ width: 200, height: 40, textAlign: 'center'}} onClick={this.logout}>\n            Logout\n          </button>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default GoogleLoginButton;\n"]},"metadata":{},"sourceType":"module"}