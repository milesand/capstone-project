{"ast":null,"code":"import _defineProperty from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hong/PRTest/capstone-project/React/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hong/PRTest/capstone-project/React/src/containers/ForgotID.js\";\nimport React, { Component } from 'react';\nimport ForgotIDForm from \"../components/LoginComponents/ForgotIDForm\";\n\nvar ForgotID =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ForgotID, _Component);\n\n  function ForgotID(props) {\n    var _this;\n\n    _classCallCheck(this, ForgotID);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ForgotID).call(this, props));\n    console.log('this test.');\n    _this.state = {\n      email: \"\"\n    };\n    _this.sendID = _this.sendID.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } //로그인 상태이면 메인화면으로 리다이렉트\n\n\n  _createClass(ForgotID, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isLogin) {\n        this.props.history.push(\"/\");\n      }\n    }\n  }, {\n    key: \"sendID\",\n    value: function sendID(e) {\n      var _this2 = this;\n\n      console.log(\"sendID start.\");\n      e.preventDefault();\n      var emailData = {\n        IDorPassword: 'id',\n        username: '',\n        email: this.state.email\n      };\n      fetch(\"http://localhost/api/forgot\", {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(emailData)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (content) {\n        console.log(content);\n        if (content.hasOwnProperty('error')) throw Error(content['error']);else _this2.props.history.push('/display-id', {\n          username: content.username,\n          email: _this2.state.email\n        });\n      }).catch(function (error) {\n        return alert(error);\n      });\n    }\n  }, {\n    key: \"valChangeControl\",\n    value: function valChangeControl(e) {\n      var target_id = e.target.id;\n      var target_val = e.target.value;\n      this.setState(_defineProperty({}, target_id, target_val));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"forgot id test.\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(ForgotIDForm, {\n        email: this.state.email,\n        changeEmail: function changeEmail(e) {\n          return _this3.valChangeControl(e);\n        },\n        sendID: function sendID(e) {\n          return _this3.sendID(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ForgotID;\n}(Component);\n\nexport { ForgotID as default };","map":{"version":3,"sources":["/home/hong/PRTest/capstone-project/React/src/containers/ForgotID.js"],"names":["React","Component","ForgotIDForm","ForgotID","props","console","log","state","email","sendID","bind","isLogin","history","push","e","preventDefault","emailData","IDorPassword","username","fetch","method","headers","body","JSON","stringify","then","res","json","content","hasOwnProperty","Error","catch","error","alert","target_id","target","id","target_val","value","setState","valChangeControl"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,4CAAzB;;IAEqBC,Q;;;;;AACjB,oBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,kFAAMA,KAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG;AADC,KAAb;AAGA,UAAKC,MAAL,GAAY,MAAKA,MAAL,CAAYC,IAAZ,uDAAZ;AANc;AAOjB,G,CAEA;;;;;wCACmB;AAClB,UAAI,KAAKN,KAAL,CAAWO,OAAf,EAAwB;AACtB,aAAKP,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD;AACF;;;2BAGMC,C,EAAG;AAAA;;AACNT,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAQ,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIC,SAAS,GAAC;AACVC,QAAAA,YAAY,EAAC,IADH;AAEVC,QAAAA,QAAQ,EAAC,EAFC;AAGVV,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC;AAHR,OAAd;AAMAW,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACnCC,QAAAA,MAAM,EAAE,MAD2B;AAEnCC,QAAAA,OAAO,EAAE;AACP,0BAAiB;AADV,SAF0B;AAKnCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,SAAf;AAL6B,OAAhC,CAAL,CAOCS,IAPD,CAOM,UAAAC,GAAG;AAAA,eAAEA,GAAG,CAACC,IAAJ,EAAF;AAAA,OAPT,EAQCF,IARD,CAQM,UAAAG,OAAO,EAAI;AACbvB,QAAAA,OAAO,CAACC,GAAR,CAAYsB,OAAZ;AACA,YAAGA,OAAO,CAACC,cAAR,CAAuB,OAAvB,CAAH,EACI,MAAMC,KAAK,CAACF,OAAO,CAAC,OAAD,CAAR,CAAX,CADJ,KAGE,MAAI,CAACxB,KAAL,CAAWQ,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB,EACwB;AAACK,UAAAA,QAAQ,EAAEU,OAAO,CAACV,QAAnB;AACCV,UAAAA,KAAK,EAAE,MAAI,CAACD,KAAL,CAAWC;AADnB,SADxB;AAIL,OAjBD,EAiBGuB,KAjBH,CAiBS,UAAAC,KAAK;AAAA,eAAEC,KAAK,CAACD,KAAD,CAAP;AAAA,OAjBd;AAkBD;;;qCAEgBlB,C,EAAE;AACjB,UAAIoB,SAAS,GAACpB,CAAC,CAACqB,MAAF,CAASC,EAAvB;AACA,UAAIC,UAAU,GAACvB,CAAC,CAACqB,MAAF,CAASG,KAAxB;AACA,WAAKC,QAAL,qBACGL,SADH,EACeG,UADf;AAGD;;;6BAGK;AAAA;;AACJhC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAEA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,YAAD;AACA,QAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,KADlB;AAEA,QAAA,WAAW,EAAE,qBAAAM,CAAC;AAAA,iBAAI,MAAI,CAAC0B,gBAAL,CAAsB1B,CAAtB,CAAJ;AAAA,SAFd;AAGA,QAAA,MAAM,EAAI,gBAAAA,CAAC;AAAA,iBAAI,MAAI,CAACL,MAAL,CAAYK,CAAZ,CAAJ;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AASH;;;;EArEiCb,S;;SAAjBE,Q","sourcesContent":["import React, { Component } from 'react';\nimport ForgotIDForm from \"../components/LoginComponents/ForgotIDForm\";\n\nexport default class ForgotID extends Component{\n    constructor(props){\n        super(props);\n        console.log('this test.');\n        this.state = {\n            email : \"\"\n        };\n        this.sendID=this.sendID.bind(this);\n    }\n\n     //로그인 상태이면 메인화면으로 리다이렉트\n    componentDidMount() {\n      if (this.props.isLogin) {\n        this.props.history.push(\"/\");\n      }\n    }\n\n    \n    sendID(e) {\n        console.log(\"sendID start.\");\n        e.preventDefault();\n    \n        let emailData={\n            IDorPassword:'id',\n            username:'',\n            email: this.state.email\n        }\n    \n        fetch(\"http://localhost/api/forgot\", {\n          method: \"POST\",\n          headers: {\n            'Content-Type' : 'application/json',\n          },\n          body: JSON.stringify(emailData)\n        })\n        .then(res=>res.json())\n        .then(content => {\n            console.log(content);\n            if(content.hasOwnProperty('error'))\n                throw Error(content['error']);\n            else\n              this.props.history.push('/display-id', \n                                      {username: content.username,\n                                       email: this.state.email});\n          \n        }).catch(error=>alert(error));\n      }\n\n      valChangeControl(e){\n        let target_id=e.target.id;\n        let target_val=e.target.value;\n        this.setState({\n          [target_id]: target_val\n        });\n      }\n \n\n    render(){\n        console.log(\"forgot id test.\");\n\n        return(      \n            <div>\n                <ForgotIDForm\n                email={this.state.email}\n                changeEmail={e => this.valChangeControl(e)}\n                sendID = {e => this.sendID(e)}\n                />\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}