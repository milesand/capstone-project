{"ast":null,"code":"import _classCallCheck from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hong/capstone-project/React/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/hong/capstone-project/React/src/components/auth/GoogleLoginButton.js\";\nimport React from 'react';\nimport \"./style2.css\";\n\nvar GoogleLoginButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GoogleLoginButton, _React$Component);\n\n  function GoogleLoginButton(props) {\n    var _this;\n\n    _classCallCheck(this, GoogleLoginButton);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(GoogleLoginButton).call(this, props));\n\n    _this.toggleLoggedIn = function () {\n      return _this.setState(function (state) {\n        return {\n          isLoggedIn: !state.isLoggedIn\n        };\n      });\n    };\n\n    _this.onSignIn = function (googleUser) {\n      _this.props.onSignIn(googleUser);\n    };\n\n    _this.renderGoogleLoginButton = function () {\n      console.log('rendering google signin button'); //  window.gapi.signin2.render('login-google');\n\n      window.gapi.signin2.render('login-google', {\n        //window.gapi.signin2.render : 구글 로그인 버튼 렌더링하는 함수\n        scope: 'profile email',\n        //로그인할 때 구글측에 요청하는 사용자 정보, 여기서는 사용자 프로파일과 이메일 요청함.\n        width: 180,\n        height: 35,\n        longtitle: true,\n        theme: 'dark',\n        value: \"구글 계정으로 로그인\",\n        onsuccess: _this.onSignIn //로그인이 성공했을 때, 이 함수를 호출한다.\n        //  onsuccess: this.props.onSignIn,\n\n      });\n    };\n\n    _this.logout = function () {\n      console.log('logout');\n      var auth2 = window.gapi && window.gapi.auth2.getAuthInstance();\n\n      if (auth2) {\n        auth2.signOut().then(function () {\n          _this.toggleLoggedIn();\n\n          console.log('Logged out successfully');\n        }).catch(function (err) {\n          console.log('Error while logging out', err);\n        });\n      } else {\n        console.log('error while logging out');\n      }\n    };\n\n    _this.state = {\n      isLoggedIn: false\n    };\n    return _this;\n  }\n\n  _createClass(GoogleLoginButton, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('google-loaded', this.renderGoogleLoginButton);\n      window.gapi && this.renderGoogleLoginButton();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"login-google\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), this.state.isLoggedIn && React.createElement(\"div\", {\n        style: {\n          width: 200,\n          height: 40,\n          textAlign: 'center'\n        },\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return GoogleLoginButton;\n}(React.Component);\n\nexport default GoogleLoginButton;","map":{"version":3,"sources":["/home/hong/capstone-project/React/src/components/auth/GoogleLoginButton.js"],"names":["React","GoogleLoginButton","props","toggleLoggedIn","setState","state","isLoggedIn","onSignIn","googleUser","renderGoogleLoginButton","console","log","window","gapi","signin2","render","scope","width","height","longtitle","theme","value","onsuccess","logout","auth2","getAuthInstance","signOut","then","catch","err","addEventListener","textAlign","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;;IACMC,iB;;;;;AACJ,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,2FAAMA,KAAN;;AADiB,UAOnBC,cAPmB,GAOF;AAAA,aAAM,MAAKC,QAAL,CAAc,UAAAC,KAAK,EAAI;AAC5C,eAAO;AAAEC,UAAAA,UAAU,EAAE,CAACD,KAAK,CAACC;AAArB,SAAP;AACD,OAFsB,CAAN;AAAA,KAPE;;AAAA,UAWnBC,QAXmB,GAWR,UAAAC,UAAU,EAAI;AAEvB,YAAKN,KAAL,CAAWK,QAAX,CAAoBC,UAApB;AAED,KAfkB;;AAAA,UAiBnBC,uBAjBmB,GAiBO,YAAM;AAC7BC,MAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAD6B,CAG9B;;AAECC,MAAAA,MAAM,CAACC,IAAP,CAAYC,OAAZ,CAAoBC,MAApB,CAA2B,cAA3B,EAA2C;AAAE;AAC5CC,QAAAA,KAAK,EAAE,eADmC;AAClB;AACvBC,QAAAA,KAAK,EAAE,GAFkC;AAGzCC,QAAAA,MAAM,EAAE,EAHiC;AAIzCC,QAAAA,SAAS,EAAE,IAJ8B;AAKzCC,QAAAA,KAAK,EAAE,MALkC;AAMzCC,QAAAA,KAAK,EAAE,aANkC;AAOzCC,QAAAA,SAAS,EAAE,MAAKf,QAPyB,CAOf;AAC3B;;AAR0C,OAA3C;AAWF,KAjCkB;;AAAA,UAmCnBgB,MAnCmB,GAmCV,YAAM;AACbb,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAEA,UAAIa,KAAK,GAAGZ,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACC,IAAP,CAAYW,KAAZ,CAAkBC,eAAlB,EAA3B;;AACA,UAAID,KAAJ,EAAW;AACTA,QAAAA,KAAK,CACFE,OADH,GAEGC,IAFH,CAEQ,YAAM;AACV,gBAAKxB,cAAL;;AACAO,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD,SALH,EAMGiB,KANH,CAMS,UAAAC,GAAG,EAAI;AACZnB,UAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCkB,GAAvC;AACD,SARH;AASD,OAVD,MAUO;AACLnB,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACD;AACF,KApDkB;;AAEjB,UAAKN,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE;AADD,KAAb;AAFiB;AAKlB;;;;wCAiDmB;AAClBM,MAAAA,MAAM,CAACkB,gBAAP,CAAwB,eAAxB,EAAyC,KAAKrB,uBAA9C;AACAG,MAAAA,MAAM,CAACC,IAAP,IAAe,KAAKJ,uBAAL,EAAf;AACD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAK,QAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAGG,KAAKJ,KAAL,CAAWC,UAAX,IACE;AAAK,QAAA,KAAK,EAAE;AAAEW,UAAAA,KAAK,EAAE,GAAT;AAAcC,UAAAA,MAAM,EAAE,EAAtB;AAA0Ba,UAAAA,SAAS,EAAE;AAArC,SAAZ;AAA4D,QAAA,OAAO,EAAE,KAAKR,MAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJL,CADF;AAWD;;;;EAxE6BvB,KAAK,CAACgC,S;;AA2EtC,eAAe/B,iBAAf","sourcesContent":["import React from 'react';\nimport \"./style2.css\"\nclass GoogleLoginButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false\n    };\n  }\n\n  toggleLoggedIn = () => this.setState(state => {\n    return { isLoggedIn: !state.isLoggedIn };\n  });\n\n  onSignIn = googleUser => {\n   \n    this.props.onSignIn(googleUser);\n\n  };\n\n  renderGoogleLoginButton = () => {   \n     console.log('rendering google signin button');\n    \n    //  window.gapi.signin2.render('login-google');\n\n     window.gapi.signin2.render('login-google', { //window.gapi.signin2.render : 구글 로그인 버튼 렌더링하는 함수\n      scope: 'profile email', //로그인할 때 구글측에 요청하는 사용자 정보, 여기서는 사용자 프로파일과 이메일 요청함.\n       width: 180,\n       height: 35,\n       longtitle: true,\n       theme: 'dark',\n       value: \"구글 계정으로 로그인\",\n       onsuccess: this.onSignIn, //로그인이 성공했을 때, 이 함수를 호출한다.\n      //  onsuccess: this.props.onSignIn,\n     });\n    \n  };\n\n  logout = () => {\n    console.log('logout');\n\n    let auth2 = window.gapi && window.gapi.auth2.getAuthInstance();\n    if (auth2) {\n      auth2\n        .signOut()\n        .then(() => {\n          this.toggleLoggedIn();\n          console.log('Logged out successfully');\n        })\n        .catch(err => {\n          console.log('Error while logging out', err);\n        });\n    } else {\n      console.log('error while logging out');\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('google-loaded', this.renderGoogleLoginButton);\n    window.gapi && this.renderGoogleLoginButton();\n  }\n\n  render() {\n    return (\n      <div>\n        {/* <input type=\"button\" id=\"login-google\" className=\"login-google fadeIn register form-control\" value=\"구글로 로그인\"></input> */}\n        <div id=\"login-google\" ></div>\n        {this.state.isLoggedIn && (\n           <div style={{ width: 200, height: 40, textAlign: 'center'}} onClick={this.logout}>\n            {/* <input type=\"button\" id=\"login-google\" className=\"fadeIn register form-control\" value=\"로그아웃\"onClick={this.logout}/>  */}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default GoogleLoginButton;\n"]},"metadata":{},"sourceType":"module"}